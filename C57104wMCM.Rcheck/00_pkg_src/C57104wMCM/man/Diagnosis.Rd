% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/diagnosis.R
\name{Diagnosis}
\alias{Diagnosis}
\title{Diagnosis: Apply Diagnostics in accordance to either Duval Triangles, Rogers Ratios, or IEC Tables, or all.}
\usage{
Diagnosis(
  y_1,
  gas_data,
  diagnosis,
  col_names,
  i_L1,
  i_L2,
  i_L3,
  silent = FALSE,
  verbose = FALSE
)
}
\arguments{
\item{y_1}{Numeric Array: Values representing generated samples for the Monte Carlo based on the statistical description provided. Shaped: Gases x Samples.}

\item{gas_data}{Data.frame: First column containing days since oldest sample. Rest of columns containing sample value in PPM.}

\item{diagnosis}{Data.frame: Columns containing the IEEE DGA Table limits for each gas. Each Table is on its own row; four rows expected. Caution: Table 4 is expressed as PPM/Day!}

\item{col_names}{Strings: Gas Names. Order must match other named variables throughout. Expected a subset of <H2|CH4|C2H6|C2H4|C2H2|CO|CO2>.}

\item{i_L1}{Logical Array. Mask indicated which generated samples were per-gas DGA Status Level 1. Length equal to n samples.}

\item{i_L2}{Logical Array. Mask indicated which generated samples were per-gas DGA Status Level 2. Length equal to n samples.}

\item{i_L3}{Logical Array. Mask indicated which generated samples were per-gas DGA Status Level 3. Length equal to n samples.}

\item{silent}{Boolean: Defaulted to FALSE. If TRUE heavily restricts outputs to console.}

\item{verbose}{Boolean: Defaulted to FALSE. If FALSE restricts outputs to console.}
}
\value{
List containing a subset of the following:
\itemize{
\item $\code{DT<n>_default_data}: Optional: (\code{diagnosis} == 1|2): Numeric. Ratios relevant to DT 1|4|5 using default gas values.
\item $\code{DT<n>_0_data}: Optional: (\code{diagnosis} == 1|2): Numeric Array. Ratios relevant to DT 1|4|5 using generated samples.
\item $\code{DT<n>_L<n>}: Optional: (\code{diagnosis} == 1|2): Numeric. Proportion of samples, screened at DGA Status 1|2|3, assigned given diagnosis in accordance to DT 1|4|5.
\item $\code{DT<n>_Ln1}: Optional: (\code{diagnosis} == 1|2): Numeric. Proportion of samples, screened at DGA Status 2 or 3, assigned given diagnosis in accordance to DT 1|4|5.
\item $\code{gas_L<n>_default}: Optional: (\code{diagnosis} == 1|3|4): Numeric. Output for per-gas DGA Status Levels 1|2|3.
\item $\code{Abs_default_default}: Optional: (\code{diagnosis} == 1|3|4): Numeric. Ratios relevant to RR and/or IEC 1|2 using default gas values.
\item $\code{Abs_0_data}: Optional: (\code{diagnosis} == 1|3|4): Numeric Array. Ratios relevant to RR and/or IEC 1|2 using generated samples.
\item $\code{RR_L<n>}: Optional: (\code{diagnosis} == 1|3): Numeric. Proportion of samples, screened at DGA Status 1|2|3, assigned given diagnosis in accordance to RR.
\item $\code{RR_Ln1}: Optional: (\code{diagnosis} == 1|3): Numeric. Proportion of samples, screened at DGA Status 2 or 3, assigned given diagnosis in accordance to RR.
\item $\code{IEC<n>_L<n>}: Optional: (\code{diagnosis} == 1|4): Numeric. Proportion of samples, screened at DGA Status 1|2|3, assigned given diagnosis in accordance to IEC 1|2.
\item $\code{IEC<n>_Ln1}: Optional: (\code{diagnosis} == 1|4): Numeric. Proportion of samples, screened at DGA Status 2 or 3, assigned given diagnosis in accordance to IEC 1|2.
}
}
\description{
This function applies diagnostics in accordance to either Duval Triangles, Rogers Ratios, or IEC Tables, or all. The results are separated based on the IEEE Screening DGA Status Levels.
}
\examples{
# y_1: Numeric array of generated samples, shaped: Gases, Samples
y_1_in <- array(c(82.39, 107.51,  82.39,  31.15,   3.03, 856.02, 946.45,  77.95, 101.71,  77.95,  29.47,   2.67, 809.89, 895.44,
                  78.98, 103.06,  78.98,  29.86,   2.75, 820.60, 907.28,  84.62, 110.42,  84.62,  31.99,   3.21, 879.26, 972.14,
                  74.19,  96.81,  74.19,  28.05,   2.37, 770.88, 852.31,  85.56, 111.64,  85.56,  32.35,   3.29, 888.97, 982.88,
                  84.71, 110.54,  84.71,  32.03,   3.22, 880.20, 973.18,  74.09,  96.68,  74.09,  28.01,   2.36, 769.80, 851.12,
                  83.24, 108.62,  83.24,  31.47,   3.10, 864.91, 956.27,  76.22,  99.45,  76.22,  28.81,   2.53, 791.90, 875.55), dim = c(7,10))
gas_data_in <- data.frame(date=c(4,3,2,1,0),
                          H2=c(80,80,80,80,82), CH4=c(90,95,100,105,107), C2H6=c(80,100,80,80,82),
                          C2H4=c(30,30,31,29,31), C2H2=c(1,1,0,1,3), CO=c(800,850,860,850,852),
                          CO2=c(900,950,940,940,942))
# temp_rndm_screen is just for generating screening mask as an example.
temp_rndm_screen <- sample(1:3, 10, replace=TRUE)
i_L1_in <- temp_rndm_screen == 1
i_L2_in <- temp_rndm_screen == 2
i_L3_in <- temp_rndm_screen == 3

Diagnosis(y_1 = y_1_in,
          gas_data = gas_data_in,
          diagnosis = 1,
          col_names = c("H2", "CH4", "C2H6", "C2H4", "C2H2", "CO", "CO2"),
          i_L1 = i_L1_in,
          i_L2 = i_L2_in,
          i_L3 = i_L3_in,
          silent = FALSE, verbose = FALSE)
}
